(this["webpackJsonpcovid19-react"]=this["webpackJsonpcovid19-react"]||[]).push([[5],{229:function(t,e,a){},412:function(t,e,a){},435:function(t,e,a){"use strict";a.r(e);var n=a(12);var i=a(17);function r(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=a(15),l=a(94),c=a.n(l),s=a(0),d=a.n(s),u=a(97),v=a(426),b=a(105),f=a(46),p=a.n(f),h=a(81),m=a.n(h),y=a(42),j=a.n(y),O=a(40),g=a.n(O),x=a(38),_=a.n(x),A=a(73),w=a(121),S=a(45),k=a(193),C=a(194),D=a(122),P=a(39),E=a(54),N=a(62),R=a(57),I=a(37);function T(t){return T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function B(t,e){if(null==t)return{};var a,n,i=function(t,e){if(null==t)return{};var a,n,i={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(i[a]=t[a]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function F(){return F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},F.apply(this,arguments)}function M(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(Object(a),!0).forEach((function(e){V(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function V(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function G(t,e){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(t,e)}function W(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=q(t);if(e){var i=q(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return J(this,a)}}function J(t,e){return!e||"object"!==T(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var H=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(r,t);var e,a,n,i=W(r);function r(){var t;K(this,r);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(t=i.call.apply(i,[this].concat(a))).state={isAnimationFinished:!1},t.id=Object(P.j)("recharts-bar-"),t.handleAnimationEnd=function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()},t.handleAnimationStart=function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()},t}return e=r,n=[{key:"getDerivedStateFromProps",value:function(t,e){return t.animationId!==e.prevAnimationId?{prevAnimationId:t.animationId,curData:t.data,prevData:e.curData}:t.data!==e.curData?{curData:t.data}:null}},{key:"renderRectangle",value:function(t,e){return d.a.isValidElement(t)?d.a.cloneElement(t,e):j()(t)?t(e):d.a.createElement(w.a,e)}}],(a=[{key:"renderRectanglesStatically",value:function(t){var e=this,a=this.props.shape,n=Object(I.c)(this.props);return t&&t.map((function(t,i){var o=z(z(z({},n),t),{},{index:i});return d.a.createElement(S.a,F({className:"recharts-bar-rectangle"},Object(I.b)(e.props,t,i),{key:"rectangle-".concat(i)}),r.renderRectangle(a,o))}))}},{key:"renderRectanglesWithAnimation",value:function(){var t=this,e=this.props,a=e.data,n=e.layout,i=e.isAnimationActive,r=e.animationBegin,o=e.animationDuration,l=e.animationEasing,c=e.animationId,s=this.state.prevData;return d.a.createElement(A.a,{begin:r,duration:o,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(e){var i=e.t,r=a.map((function(t,e){var a=s&&s[e];if(a){var r=Object(P.e)(a.x,t.x),o=Object(P.e)(a.y,t.y),l=Object(P.e)(a.width,t.width),c=Object(P.e)(a.height,t.height);return z(z({},t),{},{x:r(i),y:o(i),width:l(i),height:c(i)})}if("horizontal"===n){var d=Object(P.e)(0,t.height)(i);return z(z({},t),{},{y:t.y+t.height-d,height:d})}var u=Object(P.e)(0,t.width)(i);return z(z({},t),{},{width:u})}));return d.a.createElement(S.a,null,t.renderRectanglesStatically(r))}))}},{key:"renderRectangles",value:function(){var t=this.props,e=t.data,a=t.isAnimationActive,n=this.state.prevData;return!(a&&e&&e.length)||n&&m()(n,e)?this.renderRectanglesStatically(e):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var t=this,e=this.props.data,a=Object(I.c)(this.props.background);return e.map((function(e,n){e.value;var i=e.background,o=B(e,["value","background"]);if(!i)return null;var l=z(z(z(z(z({},o),{},{fill:"#eee"},i),a),Object(I.b)(t.props,e,n)),{},{index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return r.renderRectangle(t.props.background,l)}))}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,e=t.data,a=t.xAxis,n=t.yAxis,i=t.layout,r=t.children,o=Object(E.a)(r,k.a.displayName);if(!o)return null;var l="vertical"===i?e[0].height/2:e[0].width/2;function c(t,e){return{x:t.x,y:t.y,value:t.value,errorVal:Object(R.w)(t,e)}}return o.map((function(t,r){return d.a.cloneElement(t,{key:"error-bar-".concat(r),data:e,xAxis:a,yAxis:n,layout:i,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var t=this.props,e=t.hide,a=t.data,n=t.className,i=t.xAxis,r=t.yAxis,o=t.left,l=t.top,c=t.width,s=t.height,u=t.isAnimationActive,v=t.background,b=t.id;if(e||!a||!a.length)return null;var f=this.state.isAnimationFinished,h=_()("recharts-bar",n),m=i&&i.allowDataOverflow||r&&r.allowDataOverflow,y=p()(b)?this.id:b;return d.a.createElement(S.a,{className:h},m?d.a.createElement("defs",null,d.a.createElement("clipPath",{id:"clipPath-".concat(y)},d.a.createElement("rect",{x:o,y:l,width:c,height:s}))):null,d.a.createElement(S.a,{className:"recharts-bar-rectangles",clipPath:m?"url(#clipPath-".concat(y,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(),(!u||f)&&D.a.renderCallByParent(this.props,a))}}])&&L(e.prototype,a),n&&L(e,n),r}(s.PureComponent);H.displayName="Bar",H.defaultProps={xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!N.a.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"},H.getComposedData=function(t){var e=t.props,a=t.item,n=t.barPosition,i=t.bandSize,r=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,s=t.stackedData,d=t.dataStartIndex,u=t.displayedData,v=t.offset,b=Object(R.e)(n,a);if(!b)return null;var f=e.layout,p=a.props,h=p.dataKey,m=p.children,y=p.minPointSize,j="horizontal"===f?o:r,O=s?j.scale.domain():null,x=Object(R.i)({numericAxis:j}),_=Object(E.a)(m,C.a.displayName),A=u.map((function(t,e){var n,u,v,p,m,j;if(s?n=Object(R.C)(s[d+e],O):(n=Object(R.w)(t,h),g()(n)||(n=[x,n])),"horizontal"===f){if(u=Object(R.j)({axis:r,ticks:l,bandSize:i,offset:b.offset,entry:t,index:e}),v=o.scale(n[1]),p=b.size,m=o.scale(n[0])-o.scale(n[1]),j={x:u,y:o.y,width:p,height:o.height},Math.abs(y)>0&&Math.abs(m)<Math.abs(y)){var A=Object(P.i)(m||y)*(Math.abs(y)-Math.abs(m));v-=A,m+=A}}else u=r.scale(n[0]),v=Object(R.j)({axis:o,ticks:c,bandSize:i,offset:b.offset,entry:t,index:e}),p=r.scale(n[1])-r.scale(n[0]),m=b.size,j={x:r.x,y:v,width:r.width,height:m},Math.abs(y)>0&&Math.abs(p)<Math.abs(y)&&(p+=Object(P.i)(p||y)*(Math.abs(y)-Math.abs(p)));return z(z(z({},t),{},{x:u,y:v,width:p,height:m,value:s?n:n[1],payload:t,background:j},_&&_[e]&&_[e].props),{},{tooltipPayload:[Object(R.v)(a,t)],tooltipPosition:{x:u+p/2,y:v+m/2}})}));return z({data:A,layout:f},v)};var Q=a(195),U=a(196),X=a(70),Y=Object(b.a)({chartName:"BarChart",GraphicalChild:H,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Q.a},{axisType:"yAxis",AxisComp:U.a}],formatAxisMap:X.b}),Z=a(422),$=a(204),tt=(a(229),a(1)),et=function(t){var e=t.barChartData,a=t.bars;return Object(tt.jsx)(v.a,{children:Object(tt.jsxs)(Y,{data:e,margin:{top:0,right:50,left:50,bottom:100},children:[Object(tt.jsx)(Q.a,{dataKey:"name",interval:0,angle:-45,textAnchor:"end",fontSize:"12"}),Object(tt.jsx)(Z.a,{}),Object(tt.jsx)($.a,{verticalAlign:"top",iconType:"circle"}),a.map((function(t,e){return Object(tt.jsx)(H,{dataKey:t.dataKey,stackId:"a",fill:t.fill},"bar-"+e)}))]})})},at=a(197),nt=a(198),it=a(200),rt=a(205),ot=a(203),lt=(a(412),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=[];return t.forEach((function(t,i){""===e?n.push({state_name:t.district_id?t.title:t.state_name,total:t.total,partial_vaccinated:t.partial_vaccinated,today:t.today,totally_vaccinated:t.totally_vaccinated}):""===a&&n.push({district_name:t.district_id?t.title:t.state_name,total:t.total,partial_vaccinated:t.partial_vaccinated,today:t.today,totally_vaccinated:t.totally_vaccinated})})),n}),ct=function(t){var e=[];return t.forEach((function(t,a){e.push({name:t.district_id?t.title:t.state_name,Dose1:t.partial_vaccinated,Dose2:t.totally_vaccinated})})),{barChartData:e,bars:[{dataKey:"Dose1",fill:"#109CF1"},{dataKey:"Dose2",fill:"#2ED47A"}]}},st=function(t,e){var a=[];return a.push.apply(a,[{title:"Dose 1 vs Dose 2",data:[{name:"Dose1",value:null===t||void 0===t?void 0:t.tot_dose_1},{name:"Dose2",value:null===t||void 0===t?void 0:t.tot_dose_2}]},{title:"Vaccine brands",data:[{name:"Covishield",value:null===t||void 0===t?void 0:t.covishield},{name:"Covaxin",value:null===t||void 0===t?void 0:t.covaxin},{name:"Sputnik",value:null===t||void 0===t?void 0:t.sputnik}]},{title:"Gender",data:[{name:"Male",value:null===t||void 0===t?void 0:t.male},{name:"Female",value:null===t||void 0===t?void 0:t.female},{name:"Others",value:null===t||void 0===t?void 0:t.others}]},{title:"Vaccination by Age",data:[{name:"Above60",value:null===e||void 0===e?void 0:e.above_60},{name:"18-45",value:null===e||void 0===e?void 0:e.vac_18_45},{name:"45-60",value:null===e||void 0===e?void 0:e.vac_45_60}]}]),a},dt=function(t,e){var a=[];return a.push.apply(a,[{label:"Vaccines",value:null===t||void 0===t?void 0:t.total,delta:null===t||void 0===t?void 0:t.today,cardClass:"cv-info"},{label:"Partially vaccinated",value:null===t||void 0===t?void 0:t.tot_dose_1,delta:null===t||void 0===t?void 0:t.today_dose_one,cardClass:"cv-warning"},{label:"Fully vaccinated",value:null===t||void 0===t?void 0:t.tot_dose_2,delta:null===t||void 0===t?void 0:t.today_dose_two,cardClass:"cv-success"},{label:"Covishield",value:null===t||void 0===t?void 0:t.covishield,delta:0,cardClass:"cv-alert"},{label:"Covaxin",value:null===t||void 0===t?void 0:t.covaxin,delta:0,cardClass:"cv-info"},{label:"Sputnik",value:null===t||void 0===t?void 0:t.sputnik,delta:0,cardClass:"cv-primary"},{label:"Male",value:null===t||void 0===t?void 0:t.male,delta:(null===t||void 0===t?void 0:t.today_female)?null===t||void 0===t?void 0:t.today_male:0,cardClass:"cv-success"},{label:"Female",value:null===t||void 0===t?void 0:t.female,delta:(null===t||void 0===t?void 0:t.today_female)?null===t||void 0===t?void 0:t.today_female:0,cardClass:"cv-primary"},{label:"Others",value:null===t||void 0===t?void 0:t.others,delta:(null===t||void 0===t?void 0:t.today_female)?null===t||void 0===t?void 0:t.today_others:0,cardClass:"cv-info"},{label:"Age above 60",value:null===e||void 0===e?void 0:e.above_60,delta:0,cardClass:"cv-success"},{label:"Age 45-60",value:null===e||void 0===e?void 0:e.vac_45_60,delta:0,cardClass:"cv-primary"},{label:"Age 18-45",value:null===e||void 0===e?void 0:e.vac_18_45,delta:0,cardClass:"cv-info"}]),a},ut=function(t,e){var a=[];return a.push.apply(a,[{name:"total",data:null===t||void 0===t?void 0:t.map((function(t){return{name:t.startdate,total:t.total}})),strokeColor:"#885AF8"},{name:"dose1",data:t.map((function(t){return{name:t.startdate,dose1:t.dose1}})),strokeColor:"#FFB946"},{name:"dose2",data:t.map((function(t){return{name:t.startdate,dose2:t.dose2}})),strokeColor:"#2ED47A"},{name:"above60",data:e.map((function(t){return{name:t.startdate,above60:t.vac_60_above}})),strokeColor:"#2ED47A"},{name:"age45_60",data:e.map((function(t){return{name:t.startdate,age45_60:t.vac_45_60}})),strokeColor:"#109CF1"},{name:"age18_45",data:e.map((function(t){return{name:t.startdate,age18_45:t.vac_18_45}})),strokeColor:"#885AF8"}]),a},vt=function(t,e){return""===e?[{title:"India",state_id:""}].concat(r(t)).map((function(t){return{value:t.state_id,label:t.title}})):[{title:t[0].state_name,district_id:""}].concat(r(t)).map((function(t){return{value:t.district_id,label:t.title}}))};e.default=function(){var t=Object(s.useState)(null),e=Object(o.a)(t,2),a=(e[0],e[1]),n=Object(s.useState)(null),i=Object(o.a)(n,2),r=(i[0],i[1]),l=Object(s.useState)(null),d=Object(o.a)(l,2),v=d[0],b=d[1],f=Object(s.useState)(null),p=Object(o.a)(f,2),h=p[0],m=p[1],y=Object(s.useState)(null),j=Object(o.a)(y,2),O=j[0],g=j[1],x=Object(s.useState)(null),_=Object(o.a)(x,2),A=_[0],w=_[1],S=Object(s.useState)(null),k=Object(o.a)(S,2),C=k[0],D=k[1],P=Object(s.useState)(null),E=Object(o.a)(P,2),N=E[0],R=E[1],I=Object(s.useState)(""),T=Object(o.a)(I,2),B=T[0],F=T[1],M=Object(s.useState)(null),z=Object(o.a)(M,2),V=z[0],K=z[1],L=Object(s.useState)(""),G=Object(o.a)(L,2),W=G[0],J=G[1],q=Object(s.useState)(null),H=Object(o.a)(q,2),Q=H[0],U=H[1],X=Object(s.useState)(null),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1];Object(s.useEffect)((function(){c.a.get("https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id=".concat(B,"&district_id=").concat(W,"&date=")).then((function(t){var e,n=t.data;a(n);var i=null===n||void 0===n||null===(e=n.topBlock)||void 0===e?void 0:e.vaccination,r=null===n||void 0===n?void 0:n.vaccinationByAge,o=null===n||void 0===n?void 0:n.getBeneficiariesGroupBy;m(st(i,r)),b(dt(i,r)),w(ct(o)),""===B?(R(vt(o,"")),D(lt(o,"","")),K(null),J("")):""!==B&&""===W&&(K(vt(o,B)),D(lt(o,B,"")))}),(function(t){console.log(t)})),c.a.get("https://api.cowin.gov.in/api/v1/reports/v2/getVacPublicReports?state_id=".concat(B,"&district_id=").concat(W,"&date")).then((function(t){var e,a,n=t.data;r(n);var i=null===(e=t.data)||void 0===e?void 0:e.weeklyReport,o=null===(a=t.data)||void 0===a?void 0:a.weeklyVacAgeWiseReport;g(ut(i,o))}),(function(t){console.log(t)}))}),[B,W,Q,Z]);return Object(tt.jsxs)("div",{className:"cv-main-container",children:[N&&null===Q&&Object(tt.jsx)(it.a,{placeholder:"State",data:N,onStateChange:function(t){F(t.value),J(""),$(null)},isLoading:!1,selectedItemDefault:Q}),N&&Q&&Object(tt.jsx)(it.a,{placeholder:"State",data:N,onStateChange:function(t){F(t.value),J("")},isLoading:!1,selectedItemDefault:Q}),V&&null===Z&&Object(tt.jsx)(it.a,{placeholder:"Districts",data:V,onStateChange:function(t){J(t.value)},isLoading:!1,selectedItemDefault:Z}),V&&Z&&Object(tt.jsx)(it.a,{placeholder:"Districts",data:V,onStateChange:function(t){J(t.value)},isLoading:!1,selectedItemDefault:Z}),Object(tt.jsx)("div",{className:"cv-row",children:v&&v.map((function(t,e){return e<3?Object(tt.jsx)("div",{className:"cv-stats-card",children:Object(tt.jsx)(rt.a,{card:t,chart:O&&e<3?O[e]:null},"card-"+e)}):null}))}),Object(tt.jsx)("div",{className:"cv-row",children:v&&v.map((function(t,e){return e>=3&&e<6?Object(tt.jsx)("div",{className:"cv-stats-card",children:Object(tt.jsx)(rt.a,{card:t},"card-"+e)}):null}))}),Object(tt.jsx)("div",{className:"cv-row",children:v&&v.map((function(t,e){return e>=6&&e<9?Object(tt.jsx)("div",{className:"cv-stats-card",children:Object(tt.jsx)(rt.a,{card:t},"card-"+e)}):null}))}),Object(tt.jsx)("div",{className:"cv-row",children:v&&v.map((function(t,e){return e>=9&&e<12?Object(tt.jsx)("div",{className:"cv-stats-card",children:Object(tt.jsx)(rt.a,{card:t,chart:O&&e>2?O[e-6]:null},"card-"+e)}):null}))}),Object(tt.jsx)("div",{className:"cv-row",children:h&&h.map((function(t,e){return Object(tt.jsx)("div",{className:"cv-pie-chart-container",children:Object(tt.jsxs)(u.a,{children:[" ",Object(tt.jsx)(at.a,{pieData:t.data,title:t.title,className:"pie-card"},"pie-"+e)]})},"pie-container-"+e)}))}),A&&""===W&&Object(tt.jsx)("div",{className:"bar-chart",children:Object(tt.jsx)(u.a,{children:Object(tt.jsx)(et,{barChartData:A.barChartData,bars:A.bars})})}),C&&""===W&&Object(tt.jsx)("div",{className:"cv-stats-table",children:Object(tt.jsx)(ot.a,{theaders:[""===B?"State":"District","Total","Partial vaccinated","Today","Totally vaccinated"],tbody:C,formatter:"hi",onRowClick:function(t){return e=t,window.scrollTo({top:0,behavior:"smooth"}),void(e.state_name?(F(N.find((function(t){return t.label===e.state_name})).value),U(N.find((function(t){return t.label===e.state_name})))):e.district_name&&(J(V.find((function(t){return t.label===e.district_name})).value),$(V.find((function(t){return t.label===e.district_name})))));var e}},"table-1")}),Object(tt.jsx)("div",{className:"cv-map-contaier",children:Object(tt.jsx)(u.a,{children:Object(tt.jsx)(nt.a,{})})})]})}}}]);
//# sourceMappingURL=5.5c85efd4.chunk.js.map